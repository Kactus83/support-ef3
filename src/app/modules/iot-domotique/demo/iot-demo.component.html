<div class="max-w-4xl mx-auto py-12 space-y-12">

  <!-- Retour -->
  <button mat-icon-button routerLink="../" aria-label="Retour">
    <mat-icon class="text-2xl">arrow_back</mat-icon>
  </button>

  <section class="space-y-6">
    <h2 class="text-3xl font-semibold text-center">Galerie de Démos</h2>
    <p class="text-base text-center text-gray-600">
      Découvrez des extraits de mes projets IoT & domotique en action.
    </p>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div *ngFor="let d of demos"
           class="bg-card rounded-2xl p-6 shadow flex flex-col h-full">
        <mat-icon class="text-5xl mb-4">videocam</mat-icon>
        <h3 class="text-xl font-medium mb-4 text-center">{{ d.title }}</h3>
        <div class="flex-grow"></div>
        <button
          mat-flat-button
          color="primary"
          class="fuse-mat-button-large self-center"
          (click)="open(d)"
        >
          Voir la démo
        </button>
      </div>
    </div>
  </section>

  <!-- Overlay Vidéo -->
  <ng-container *ngIf="selectedDemo">
    <div class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4">
      <div
        class="relative bg-white rounded-2xl p-6 max-w-3xl w-full overflow-hidden"
        style="height: 80vh;"
      >
        <!-- Fermer -->
        <button
          mat-icon-button
          (click)="close()"
          class="absolute right-4 top-4 text-gray-500 hover:text-gray-700"
          aria-label="Fermer"
        >
          <mat-icon>close</mat-icon>
        </button>

        <!-- Titre -->
        <h3 class="text-2xl font-semibold mb-4 text-center">
          {{ selectedDemo.title }}
        </h3>

        <!-- Vidéo -->
        <video
          class="w-full h-full rounded-lg"
          [src]="selectedDemo.videoSrc"
          controls
          autoplay
        ></video>
      </div>
    </div>
  </ng-container>

</div>
